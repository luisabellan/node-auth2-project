"use strict";var express=require("express"),Users=require("./users-model"),restrict=require("../middleware/restrict"),router=express.Router();router.get("/",restrict("admin"),function(e,r,t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return{message:"You shall not pass!",if:function(){return r.status(409).json({message:"authError"})}},e.prev=1,e.t0=r,e.next=5,regeneratorRuntime.awrap(Users.find());case 5:e.t1=e.sent,e.t0.json.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),t(e.t2);case 12:case"end":return e.stop()}},null,null,[[1,9]])}),router.get("/:id",restrict("admin"),function(r,t,s){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,regeneratorRuntime.awrap(Users.findById(r.params.id));case 4:e.t1=e.sent,e.t0.json.call(e.t0,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),s(e.t2);case 11:case"end":return e.stop()}},null,null,[[0,8]])}),module.exports=router;